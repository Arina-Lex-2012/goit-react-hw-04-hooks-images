{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","imageName","setImageName","className","css","searchBar","searchForm","event","preventDefault","trim","alert","type","searchFormButton","searchFormButtonLabel","searchFormInput","value","autoComplete","autoFocus","placeholder","onChange","currentTarget","toLowerCase","imagesLoader","color","height","width","ImageGalleryItem","onImageSelect","webformatURL","tags","isImageLoaded","setIsImageLoaded","onClick","src","alt","ImageGalleryItemImage","onLoad","ImageGallery","images","toggleModal","map","image","largeImageURL","id","Button","button","Modal","children","altForModal","onClose","useEffect","window","addEventListener","handleKeyDown","code","removeEventListener","overlay","target","modal","App","setImages","loading","setLoading","showModal","setShowModal","error","setError","page","setPage","modalImage","setModalImage","fetch","then","response","json","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","finally","newImageName","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.798efee1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Ps_K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2rZSd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__2iHYB\",\"searchForm\":\"Searchbar_searchForm__15-Ge\",\"searchFormButton\":\"Searchbar_searchFormButton__1BorO\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__10dRU\",\"searchFormInput\":\"Searchbar_searchFormInput__1p0xr\"};","import { useState } from \"react\";\nimport css from \"./Searchbar.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [imageName, setImageName] = useState(\"\");\n\n  const handleNameChange = (event) => {\n    setImageName(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (imageName.trim() === \"\") {\n      alert(\"Enter something in the search box!\");\n      return;\n    };\n\n    onSubmit(imageName); \n    setImageName(() => \"\");\n  };\n\n    return (\n      <header className={css.searchBar}>\n        <form className={css.searchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={css.searchFormButton}>\n            <span className={css.searchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={css.searchFormInput}\n            value={imageName}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleNameChange}\n          />\n        </form>\n      </header>\n    );\n}\n\n","import Loader from \"react-loader-spinner\";\n\nexport default function imagesLoader() {\n    return (\n       <Loader type=\"Circles\" color=\"#00BFFF\" height={100} width={100} />\n    );\n}\n","import { useState } from \"react\";\nimport css from \"./ImageGalleryItem.module.css\";\nimport Loader from \"../Loader/Loader\";\n\n\nexport default function ImageGalleryItem({ onImageSelect, webformatURL, tags }){\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\n\n  return (\n    <li className={css.ImageGalleryItem}>\n      {!isImageLoaded && <Loader />}\n      <img\n        onClick={onImageSelect}\n        src={webformatURL}\n        alt={tags}\n        className={css.ImageGalleryItemImage}\n        onLoad = {() => setIsImageLoaded(true)}\n      />\n    </li>\n  );\n}\n","import css from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nexport default function ImageGallery({ images, toggleModal, onImageSelect }){\n  return (\n    <ul className={css.ImageGallery}>\n      {images.map((image) => {\n        return (\n          <ImageGalleryItem\n            key={image.id}\n            webformatURL={image.webformatURL}\n            largeImageURL={image.largeImageURL}\n            tags={image.tags}\n            onClick={toggleModal}\n            onImageSelect={() => {\n              onImageSelect(image.largeImageURL, image.tags);\n            }}\n          />\n        );\n      })}\n    </ul>\n  );\n}\n","import css from \"./Button.module.css\";\n\nexport default function Button ({ onClick }) {\n    return (\n      <button type=\"button\" className={css.button} onClick={onClick}>\n        Load more\n      </button>\n    );\n}\n","import { useEffect } from \"react\";\nimport css from \"./Modal.module.css\";\n\n\nexport default function Modal({ children, src, altForModal, onClose }){\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);    \n  });\n\n  const handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      onClose();\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className={css.overlay} onClick={handleBackdropClick}>\n      <div className={css.modal}>\n        {children}\n        <img src={src} alt={altForModal} />\n      </div>\n    </div>\n  );\n}\n\n","import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Button from \"./components/Button/Button\";\nimport Modal from \"./components/Modal/Modal\";\n\n\nexport default function App () {\n  const [images, setImages] = useState([]);\n  const [imageName, setImageName] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [modalImage, setModalImage] = useState({});\n\n  useEffect (() => { \n    if (!imageName) {      \n      return;\n    } \n    setLoading(() => true);\n\n    fetch(\n      `https://pixabay.com/api/?q=${imageName}&page=${page}&key=21731016-f00a62a1d829b8e9d99c92f14&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((response) => response.json())\n      .then((images) => {\n        setImages((prevState) => [...prevState, ...images.hits]);\n       \n        if (page > 1) {\n          window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n          });\n        }\n      })\n      .catch((error) => setError(() => error))\n      .finally(() => setLoading(() => false));\n  }, [imageName, page]);\n  \n  const onSubmit = (newImageName) => {\n    if (imageName === newImageName) {\n      return;\n    }\n\n    setImageName(() => newImageName);\n    setImages(() => []);\n  };\n\n  const onLoadMore = () => {\n   setPage((prevState) => prevState + 1 );\n  };\n\n  const toggleModal = () => {\n    setShowModal(() => !showModal);\n  };\n\n  const onImageSelect = (src, alt) => {\n    setModalImage({ src, alt });\n    toggleModal();\n  };\n\n  return (\n    <>\n      {error && (\n        <div>\n          Something went wrong with this {imageName} request.\n        </div>\n      )}\n      <Searchbar onSubmit={onSubmit} />\n      {loading && <div>Loading</div>}\n\n      {images.length > 0 && (\n        <>\n          <ImageGallery\n            images={images}\n            toggleModal={toggleModal}\n            onImageSelect={onImageSelect}\n          />\n          <Button onClick={onLoadMore} />\n        </>\n      )}\n\n      {showModal && (\n        <Modal\n          src={modalImage.src}\n          alt={modalImage.alt}\n          onClose={toggleModal}\n        ></Modal>\n      )}\n    </>\n  );\n};\n\n\n// export default class App extends React.Component {\n//   state = {\n//     images: [],\n//     imageName: \"\",\n//     loading: false,\n//     showModal: false,\n//     error: null,\n//     page: 1,\n//     modalImage: {}\n//   };\n\n//   componentDidUpdate(prevProps, prevState) {\n//     const prevName = prevState.imageName;\n//     const nextName = this.state.imageName;\n//     const { page } = this.state;\n\n//     if (prevName !== nextName || prevState.page !== page) {\n//       this.setState({ loading: true });\n\n//       fetch(\n//         `https://pixabay.com/api/?q=${nextName}&page=${this.state.page}&key=21731016-f00a62a1d829b8e9d99c92f14&image_type=photo&orientation=horizontal&per_page=12`\n//       )\n//         .then((response) => response.json())\n//         .then((images) => {\n//           this.setState((prevState) => ({\n//             images: [...prevState.images, ...images.hits],\n//           }));\n\n//           if (page > 1) {\n//             window.scrollTo({\n//               top: document.documentElement.scrollHeight,\n//               behavior: \"smooth\",\n//             });\n//           }\n//         })\n//         .catch((error) => this.setState({ error }))\n//         .finally(() => this.setState({ loading: false }));\n//     }\n//   }\n\n//   onSubmit = (imageName) => {\n//     if (this.state.imageName === imageName) {\n//       return;\n//     }\n\n//     this.setState({ imageName, images: [] });\n//   };\n\n//   onLoadMore = () => {\n//     this.setState((prevState) => ({ page: prevState.page + 1 }));\n//   };\n\n//   toggleModal = () => {\n//     this.setState((state) => ({\n//       showModal: !state.showModal,\n//     }));\n//   };\n\n//   onImageSelect = (src, alt) => {\n//     this.setState({ modalImage: { src, alt } });\n//     this.toggleModal();\n//   };\n\n//   render() {\n//     const { images, loading, error } = this.state;\n\n//     return (\n//       <>\n//         {error && (\n//           <div>\n//             Something went wrong with this {this.props.imageName} request.\n//           </div>\n//         )}\n//         <Searchbar onSubmit={this.onSubmit} />\n//         {loading && <div>Loading</div>}\n\n//         {images.length > 0 && (\n//           <>\n//             <ImageGallery\n//               images={images}\n//               toggleModal={this.toggleModal}\n//               onImageSelect={this.onImageSelect}\n//             />\n//             <Button onClick={this.onLoadMore} />\n//           </>\n//         )}\n\n//         {this.state.showModal && (\n//           <Modal\n//             src={this.state.modalImage.src}\n//             alt={this.state.modalImage.alt}\n//             onClose={this.toggleModal}\n//           ></Modal>\n//         )}\n//       </>\n//     );\n//   }\n// }\n\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__KhE1X\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__WQHbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__xPJNl\",\"modal\":\"Modal_modal__2O_CI\"};"],"sourceRoot":""}