(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3Ps_K"}},14:function(e,t,a){e.exports={button:"Button_button__2rZSd"}},19:function(e,t,a){},20:function(e,t,a){},4:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__2iHYB",searchForm:"Searchbar_searchForm__15-Ge",searchFormButton:"Searchbar_searchFormButton__1BorO",searchFormButtonLabel:"Searchbar_searchFormButtonLabel__10dRU",searchFormInput:"Searchbar_searchFormInput__1p0xr"}},42:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),o=a.n(c),s=(a(19),a(10)),i=a(3),l=(a(20),a(4)),u=a.n(l),m=a(0);function b(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:u.a.searchBar,children:Object(m.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o((function(){return""}))):alert("Enter something in the search box!")},children:[Object(m.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(m.jsx)("span",{className:u.a.searchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:u.a.searchFormInput,value:c,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var j=a(12),h=a.n(j),g=a(8),f=a.n(g),d=a(13),O=a.n(d);function _(){return Object(m.jsx)(O.a,{type:"Circles",color:"#00BFFF",height:100,width:100})}function p(e){var t=e.onImageSelect,a=e.webformatURL,r=e.tags,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1];return Object(m.jsxs)("li",{className:f.a.ImageGalleryItem,children:[!s&&Object(m.jsx)(_,{}),Object(m.jsx)("img",{onClick:t,src:a,alt:r,className:f.a.ImageGalleryItemImage,onLoad:function(){return l(!0)}})]})}function x(e){var t=e.images,a=e.toggleModal,n=e.onImageSelect;return Object(m.jsx)("ul",{className:h.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(p,{webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,onClick:a,onImageSelect:function(){n(e.largeImageURL,e.tags)}},e.id)}))})}var I=a(14),v=a.n(I);function y(e){var t=e.onClick;return Object(m.jsx)("button",{type:"button",className:v.a.button,onClick:t,children:"Load more"})}var S=a(9),w=a.n(S);function F(e){var t=e.children,a=e.src,r=e.altForModal,c=e.onClose;Object(n.useEffect)((function(){window.addEventListener("keydown",o)}));var o=function e(t){"Escape"===t.code&&(c(),window.removeEventListener("keydown",e))};return Object(m.jsx)("div",{className:w.a.overlay,onClick:function(e){e.currentTarget===e.target&&c()},children:Object(m.jsxs)("div",{className:w.a.modal,children:[t,Object(m.jsx)("img",{src:a,alt:r})]})})}function L(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(i.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(!1),h=Object(i.a)(j,2),g=h[0],f=h[1],d=Object(n.useState)(!1),O=Object(i.a)(d,2),_=O[0],p=O[1],I=Object(n.useState)(null),v=Object(i.a)(I,2),S=v[0],w=v[1],L=Object(n.useState)(1),B=Object(i.a)(L,2),C=B[0],G=B[1],N=Object(n.useState)({}),k=Object(i.a)(N,2),E=k[0],R=k[1];Object(n.useEffect)((function(){f((function(){return!0})),fetch("https://pixabay.com/api/?q=".concat(l,"&page=").concat(C,"&key=21731016-f00a62a1d829b8e9d99c92f14&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){r((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),C>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return w((function(){return e}))})).finally((function(){return f((function(){return!1}))}))}),[l,C]);var U=function(){p((function(){return!_}))};return Object(m.jsxs)(m.Fragment,{children:[S&&Object(m.jsxs)("div",{children:["Something went wrong with this ",l," request."]}),Object(m.jsx)(b,{onSubmit:function(e){l!==e&&(u((function(){return e})),r((function(){return[]})))}}),g&&Object(m.jsx)("div",{children:"Loading"}),a.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{images:a,toggleModal:U,onImageSelect:function(e,t){R({src:e,alt:t}),U()}}),Object(m.jsx)(y,{onClick:function(){G((function(e){return e+1}))}})]}),_&&Object(m.jsx)(F,{src:E.src,alt:E.alt,onClose:U})]})}o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(L,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__KhE1X",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__WQHbA"}},9:function(e,t,a){e.exports={overlay:"Modal_overlay__xPJNl",modal:"Modal_modal__2O_CI"}}},[[42,1,2]]]);
//# sourceMappingURL=main.857181f6.chunk.js.map